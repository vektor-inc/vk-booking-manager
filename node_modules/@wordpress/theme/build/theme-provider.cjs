var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// packages/theme/src/theme-provider.tsx
var theme_provider_exports = {};
__export(theme_provider_exports, {
  ThemeProvider: () => ThemeProvider
});
module.exports = __toCommonJS(theme_provider_exports);
var import_element = require("@wordpress/element");
var import_context = require("./context.cjs");
var import_use_theme_provider_styles = require("./use-theme-provider-styles.cjs");

// packages/theme/src/style.module.css
var css = `.style-module__root__26kw6 {
	display: contents;
}
`;
document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(css));
var style_default = {
  "root": "style-module__root__26kw6"
};

// packages/theme/src/theme-provider.tsx
var import_jsx_runtime = require("react/jsx-runtime");
function cssObjectToText(values) {
  return Object.entries(values).map(([key, value]) => `${key}: ${value};`).join("");
}
function generateCSSSelector({
  instanceId,
  isRoot
}) {
  const rootSel = `[data-wpds-root-provider="true"]`;
  const instanceIdSel = `[data-wpds-theme-provider-id="${instanceId}"]`;
  const selectors = [];
  if (isRoot) {
    selectors.push(
      `:root:has(.${style_default.root}${rootSel}${instanceIdSel})`
    );
  }
  selectors.push(`.${style_default.root}.${style_default.root}${instanceIdSel}`);
  return selectors.join(",");
}
var ThemeProvider = ({
  children,
  color = {},
  isRoot = false,
  density
}) => {
  const instanceId = (0, import_element.useId)();
  const { themeProviderStyles, resolvedSettings } = (0, import_use_theme_provider_styles.useThemeProviderStyles)({
    color
  });
  const contextValue = (0, import_element.useMemo)(
    () => ({
      resolvedSettings
    }),
    [resolvedSettings]
  );
  return /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [
    themeProviderStyles ? /* @__PURE__ */ (0, import_jsx_runtime.jsx)("style", { children: `${generateCSSSelector({
      instanceId,
      isRoot
    })} {${cssObjectToText(themeProviderStyles)}}` }) : null,
    /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
      "div",
      {
        "data-wpds-theme-provider-id": instanceId,
        "data-wpds-root-provider": isRoot,
        "data-wpds-density": density,
        className: style_default.root,
        children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_context.ThemeContext.Provider, { value: contextValue, children })
      }
    )
  ] });
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  ThemeProvider
});
//# sourceMappingURL=theme-provider.cjs.map
